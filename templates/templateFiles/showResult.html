<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recommendation System</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    {% load staticfiles %}
    <link rel="stylesheet" href="{% static 'C:\Users\Yash\PycharmProjects\rs3\static\personal\showResult.css'%}" type="text/css" />
    <link rel="stylesheet" href="{% static 'C:\Users\Yash\PycharmProjects\rs3\static\personal\mystyle.css'%}" type="text/css" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="shortcut icon" href="{%  static 'C:\Users\Yash\PycharmProjects\rs3\static\personal\fevicon.png' %}">
</head>
<body>

<div class="container-fluid" id="signup_id_div">
    <br>
    <button onclick="closeSignup()" id="close_button"><i class="fa fa-times" aria-hidden="true"></i></button>

    <form method="post" onsubmit="return myFunction()" action="{% url 'authentication' %}">{% csrf_token %}
        <h4 for="fname1" class="user_name">User Name: </h4>
        <input autofocus id="input_validation1" size="10" required class="input_signup_name_id" type="text" placeholder="Enter User Name" name="fname1" pattern=".{8,15}"   required title="8 to 15 characters" ><span id="as" title="required">*</span>
        <h4 for="fname2" class="user_name">Email ID: </h4>
        <input required id="input_validation2" autocomplete="on" size="40" class="input_signup_name_id" type="email" placeholder="Enter Email Id" name="fname2"><span id="as" title="required">*</span>
        <h4 for="password" class="user_name">Password: </h4>

        <input placeholder="Enter Password" class="input_signup_name_id" type="password" name="password" id="input_validation3" data-rule-email="true"  pattern=".{8,15}" required title="8 to 15 length of password"><span id="as" title="required">*</span>
        <h4 for="email" class="user_name">Confirm Password: </h4>

        <input placeholder="Enter Password Again" class="input_signup_name_id" type="password" name="email" id="input_validation4" data-rule-equalTo="#input_validation3" pattern=".{8,15}" required title="8 to 15 length of password"><span id="as" title="required">*</span>
        <center><input id="input_validation5" class="button_submit_Signup_id" type="submit" value="signup"></center>
    </form>
</div>

<div class="container-fluid" id="login_id_div">
    <br>
    <button onclick="closeLogin()" id="close_button_login"><i class="fa fa-times" aria-hidden="true"></i></button>
    <form method="post" onsubmit="return myFunction()" action="{% url 'login' %}">{% csrf_token %}
        <h4 for="fname5" class="user_name">User Name: </h4>
        <input  id="input_validation6" class="input_login_name_id" type="text" placeholder="Enter User Name" name="fname5" required title=""><span id="as" title="required">*</span>
        <h4 for="fname6" class="user_name">Password: </h4>
        <input id="input_validation7" class="input_login_name_id" type="password" placeholder="Enter Password" name="fname6" required title=""><span id="as" title="required">*</span>
        <center><input id="input_validation15" class="button_submit_Signup_id" type="submit" value="login"></center>

    </form>
</div>

<div id="body_id">

    <nav class="navbar navbar-custom" role="navigation"  id="new-id-nav">
        <div class="navbar-header">
            <button id="clicked" onclick="openNav()" type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <i class="fa fa-bars" aria-hidden="true" style="font-size:240%"></i>
            </button>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-center" id="idk1">
                <li id="main_title" ><a onmouseover="recoFun()" id="reco" href="{% url 'index' %}">Recommendation System</a></li>
                <!--<li id="idk2" onclick="clickOnLogin()">Login</li>
                <div id="for_break"></div>
                <li id="idk3" onclick="clickOnSignUp()">SignUp</li>
                <div style="clear: both"></div>-->
                <div id="for_break"></div>
                {% if username == 'nope'%}

                    <li id="idk3" onclick="clickOnSignUp()">SignUp</li>
                    <li id="idk2" onclick="clickOnLogin()">Login</li>

                {% else %}
                    <li id="userNameidk" style="border: 1px solid blue">
                        <span id="username">{{ username }}</span>
                        <div id="logout" style="display: none">
                            <a href="{% url 'logout' %}">logout</a>
                        </div>
                    </li>
                {% endif %}
                <div style="clear: both"></div>
            </ul>
            <hr>
        </div>
    </nav>

    <marquee id="marqueeData" scrollamount="4" onmouseover="this.stop();" onmouseout="this.start();">
        {% for med in haha.movieName %}
            <span class="dataTop" style="color: #B71C1C; padding:0px 10px; border-right: 1px solid #E57373; cursor: default" data-toggle="tooltip" data-placement="left" title="Best Recommended movie"><a>{{ med }}</a></span>
        {% endfor %}
        {% for med in haha1.movieName %}
            <span class="dataTop" style="color: #B71C1C; padding:0px 10px; border-right: 1px solid #E57373; cursor: default" data-toggle="tooltip" data-placement="left" title="Best Recommended movie"><a>{{ med }}</a></span>
        {% endfor %}
        {% for med in haha2.movieName %}
            <span class="dataTop" style="color: #B71C1C; padding:0px 10px; border-right: 1px solid #E57373; cursor: default" data-toggle="tooltip" data-placement="left" title="Best Recommended movie"><a>{{ med }}</a></span>
        {% endfor %}
        {% for med in haha3.movieName %}
            <span class="dataTop" style="color: #B71C1C; padding:0px 10px; border-right: 1px solid #E57373; cursor: default" data-toggle="tooltip" data-placement="left" title="Best Recommended movie"><a>{{ med }}</a></span>
        {% endfor %}
        {% for med in haha4.movieName %}
            <span class="dataTop" style="color: #B71C1C; padding:0px 10px; border-right: 1px solid #E57373; cursor: default" data-toggle="tooltip" data-placement="left" title="Best Recommended movie"><a>{{ med }}</a></span>
        {% endfor %}
    </marquee>
    <hr >
</div>

<div id="result" class="container-fluid">
    <h3 style="color: #1874cd">Best Recommended Movies!</h3>
    <br>
    <br>
    <center><ul class="movie_ul">
        <li id="d0" class="movie_li"></li>
        <div id="e0" class="div_show"></div>
        <li id="d1" class="movie_li"></li>
        <div id="e1" class="div_show"></div>
        <li id="d2" class="movie_li"></li>
        <div id="e2" class="div_show"></div>
        <li id="d3" class="movie_li"></li>
        <div id="e3" class="div_show"></div>
        <li id="d4" class="movie_li"></li>
        <div id="e4" class="div_show"></div>
        <li id="d5" class="movie_li"></li>
        <div id="e5" class="div_show"></div>
        <li id="d6" class="movie_li"></li>
        <div id="e6" class="div_show"></div>
        <li id="d7" class="movie_li"></li>
        <div id="e7" class="div_show"></div>
        <li id="d8" class="movie_li"></li>
        <div id="e8" class="div_show"></div>
        <li id="d9" class="movie_li"></li>
        <div id="e9" class="div_show"></div>
    </ul></center>
    <br>
    <div class="row" id="Movies_div_id_2" style="display: block">
        <div class="col-sm-12">
            <h3>Recommendation for Movies!!</h3><br>
            <form method="get" onsubmit="return myFunction()" action="{% url 'show' %}">
                <div id="input_Movies_Title_Id"><p><span class="p_class">Title Name:</span><input id="tags" class="input_song_name" type="text" placeholder="  Enter Name of Title..." name="fname11"></p></div>
                <br>
                <input class="button_submit_music" type="submit" value="Search">
                <br>
            </form>
        </div>
    </div>
    <br>
</div>

<div class="container-fluid footer">
    <div class="row">
        <div class="col-sm-12">
            <br>
            <p>Recommendation System</p>
            <p>Made with <i id="heart" class="far fa-heart"></i> by,<br> <a id="dhruv" href = "https://dhruvthakkar.000webhostapp.com/"> Dhruv Thakkar </a>| Priyank Jain | Hardik Bhokare | Keval Shah  </p>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
{% load staticfiles %}
<script src="{% static 'C:\Users\Yash\PycharmProjects\rs3\static\personal\graph.js'%}"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript">



    function showIt(){
        document.getElementById("e0").style.display = "block";
    }
    var a = "dhruv";
    var count = 0;
    var count1 = 0;
    var link;
    var Trailer;
    var Torrent;
    {% for med in a.movieName %}
        $.ajax({
            url: 'http://127.0.0.1:8000/pqrst',
            complete: function(json) {
                data = JSON.parse(json.responseText);
                var i;
                var count = 0;
                var x1 = '';
                var y1 = '';
                var movieWebsite;
                var movieBudget;
                var movieRevenue;
                for (i = 0; i < 4800; i++){


                    if ("{{ med }}" == data[i].title){
                        var title = data[i].title.split(' ');
                        var words = '';
                        for (var k = 0; k < title.length; k++){
                            words += title[k] + '+';
                        }
                        link = 'https://www.youtube.com/results?search_query='+words+'full+movie';
                        Trailer = 'https://www.youtube.com/results?search_query='+words+'trailer';
                        Torrent = 'https://1337x.unblockall.org/search/'+words+'/1/';
                        if (data[i].homepage.toString() == ''){
                            movieWebsite = link;
                        }
                        else {
                            movieWebsite = data[i].homepage;
                        }

                        if (data[i].budget.toString() == 0){
                            movieBudget = 'Not Available';
                        }
                        else {
                            movieBudget = data[i].budget + '$';
                        }

                        if (data[i].revenue.toString() == 0){
                            movieRevenue = 'Not Available';
                        }
                        else {
                            movieRevenue = data[i].revenue + '$';
                        }


                        /*$(".movie_ul").append('<li onclick = "showIt" id = "d'+ count++ +'" class = "movie_li">'
                            + data[i].title
                            + '</li> <div id = "e'+ count1++ +'"class = "div_show">'
                            + '<p> Rating: ' + data[i].vote_average + '</p>'
                            + '<p> Release date: ' + data[i].release_date + '</p>'
                            + '<p> Overview: ' + data[i].overview + '</p>'
                            + '<p> Budget: ' + data[i].budget + '</p>'
                            + '<p> Revenue: ' + data[i].revenue + '</p>'
                            + '<a href =' +  data[i].homepage + ' >' + 'Watch Movie Online Or Trailer' + '</p>'
                            + '</div>');*/

                        x1 = '#d' + count1;
                        y1 = '#e' + count1;
                        $(x1).append(data[i].title);
                        $(y1).append('<p> Rating: ' + data[i].vote_average + '</p>'
                            + '<p> Release date: ' + data[i].release_date + '</p>'
                            + '<p> Overview: ' + data[i].overview + '</p>'
                            + '<p> Budget: ' + movieBudget + ' </p>'
                            + '<p> Revenue: ' + movieRevenue + '    </p>'
                            + '<p><a target="_blank" class = "linkina" style="text-decoration: none;" href =' +  movieWebsite + ' >' + 'Website/Watch Movie</a>'
                            + '<a target="_blank" class = "linkina" style="padding-left: 30px; text-decoration: none;" href =' +  Trailer + ' >' + 'Watch Trailer</a>'
                            + '<a target="_blank" class = "linkina" style="padding-left: 30px; text-decoration: none;" href =' +  Torrent + ' >' + 'Torrent</a>'
                            + '</p>');
                        count1++;

                    }
                }
            }
        });
    {% endfor %}

    setTimeout(function () {
        var i;
        for (i = count1; i<10; i++){
            var temp = '#d' + i;
            $(temp).hide();
        }
    }, 4000);



</script>
<script type="text/javascript" async>

    var do0 = false;
    $('#d0').click(function () {
        if(!do0){
            $('#e0').slideToggle();
            $('#d0').css('font-weight', 'bold');
            do0 = true
        }
        else {
            $('#e0').slideToggle();
            $('#d0').css('color', 'black');
            $('#d0').css('font-weight', 'normal');
            do0 = false
        }

    });

    var do1 = false;
    $('#d1').click(function () {
        if(!do1){
            $('#e1').slideToggle();
            $('#d1').css('font-weight', 'bold');
            do1 = true
        }
        else {
            $('#e1').slideToggle();
            $('#d1').css('color', 'black');
            $('#d1').css('font-weight', 'normal');
            do1 = false
        }

    });

    var do2 = false;
    $('#d2').click(function () {
        if(!do2){
            $('#e2').slideToggle();
            $('#d2').css('font-weight', 'bold');
            do2 = true
        }
        else {
            $('#e2').slideToggle();
            $('#d2').css('color', 'black');
            $('#d2').css('font-weight', 'normal');
            do2 = false
        }

    });

    var do3 = false;
    $('#d3').click(function () {
        if(!do3){
            $('#e3').slideToggle();
            $('#d3').css('font-weight', 'bold');
            do3 = true
        }
        else {
            $('#e3').slideToggle();
            $('#d3').css('color', 'black');
            $('#d3').css('font-weight', 'normal');
            do3 = false
        }

    });

    var do4 = false;
    $('#d4').click(function () {
        if(!do4){
            $('#e4').slideToggle();
            $('#d4').css('font-weight', 'bold');
            do4 = true
        }
        else {
            $('#e4').slideToggle();
            $('#d4').css('color', 'black');
            $('#d4').css('font-weight', 'normal');
            do4 = false
        }

    });

    var do5 = false;
    $('#d5').click(function () {
        if(!do5){
            $('#e5').slideToggle();
            $('#d5').css('font-weight', 'bold');
            do5 = true
        }
        else {
            $('#e5').slideToggle();
            $('#d5').css('color', 'black');
            $('#d5').css('font-weight', 'normal');
            do5 = false
        }

    });

    var do6 = false;
    $('#d6').click(function () {
        if(!do6){
            $('#e6').slideToggle();
            $('#d6').css('font-weight', 'bold');
            do6 = true
        }
        else {
            $('#e6').slideToggle();
            $('#d6').css('color', 'black');
            $('#d6').css('font-weight', 'normal');
            do6 = false
        }

    });

    var do7 = false;
    $('#d7').click(function () {
        if(!do7){
            $('#e7').slideToggle();
            $('#d7').css('font-weight', 'bold');
            do7 = true
        }
        else {
            $('#e7').slideToggle();
            $('#d7').css('color', 'black');
            $('#d7').css('font-weight', 'normal');
            do7 = false
        }

    });

    var do8 = false;
    $('#d8').click(function () {
        if(!do8){
            $('#e8').slideToggle();
            $('#d8').css('font-weight', 'bold');
            do8 = true
        }
        else {
            $('#e8').slideToggle();
            $('#d8').css('color', 'black');
            $('#d8').css('font-weight', 'normal');
            do8 = false
        }

    });

    var do9 = false;
    $('#d9').click(function () {
        if(!do9){
            $('#e9').slideToggle();
            $('#d9').css('font-weight', 'bold');
            do9 = true
        }
        else {
            $('#e9').slideToggle();
            $('#d9').css('color', 'black');
            $('#d9').css('font-weight', 'normal');
            do9 = false
        }

    });
</script>

<script type="text/javascript">

    function logout() {
        $("#logout").css("display", "block");
    }

    function logoutLeave() {
        $("#logout").css("display", "none");
    }

    $("#userNameidk").mouseover(logout);
    $("#userNameidk").mouseout(logoutLeave);


</script>


<script src="{% static 'C:\Users\Yash\PycharmProjects\rs3\static\personal\ab.js'%}"></script>

</body>
</html>